function openFullscreenMobile(){var c=document.getElementById("game-box-iframe");var a=document.getElementsByClassName("game-box")[0];var b=document.getElementById("as_open_game");a.style.display="block";if(!b.classList.contains("game_in_play")){c.src=c.getAttribute("data-src")}if(c.requestFullscreen){c.requestFullscreen()}else{if(c.webkitRequestFullscreen){c.webkitRequestFullscreen()}else{if(c.msRequestFullscreen){c.msRequestFullscreen()}else{if(c.mozRequestFullscreen){c.mozRequestFullscreen()}}}}if(document.addEventListener){document.addEventListener("fullscreenchange",exitHandlerMobile,false);document.addEventListener("mozfullscreenchange",exitHandlerMobile,false);document.addEventListener("MSFullscreenChange",exitHandlerMobile,false);document.addEventListener("webkitfullscreenchange",exitHandlerMobile,false)}}function exitHandlerMobile(){var c=document.getElementById("game-box-iframe");var a=document.getElementsByClassName("game-box")[0];var b=document.getElementById("as_open_game");if(!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.msFullscreenElement){a.style.display="none"}b.innerHTML='<i class="fas fa-caret-right"></i> Resume Game';b.classList.add("game_in_play")}function openFullscreen(){var a=document.getElementById("game-box-iframe");if(a.requestFullscreen){a.requestFullscreen()}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}else{if(a.msRequestFullscreen){a.msRequestFullscreen()}else{if(a.mozRequestFullscreen){a.mozRequestFullscreen()}}}}}$(document).ready(function(){var e=false;if($(".as-wrapper-like").data("game-voted")){e=$(".as-wrapper-like").data("game-voted")}var a="";if($(".as-wrapper-like").data("game-percent")){var A=$(".as-wrapper-like").data("game-percent");a=", "+A+"% liked"}if($(".as-wrapper-like").data("game-id")){var s=$(".as-wrapper-like").data("game-id")}var b;var c=false;var d=false;if($("body").data("on-mobile")){d=$("body").data("on-mobile")}var x=false;function v(B){if(!x){x=true;if($(".game-deskbox")[0]){$(".game-deskbox").append('<div class="spinner-border" role="status" style="position: absolute; top: 50%; left: 50%; width: 40px; height: 40px; margin: -20px 0 0 -20px;"></div>')}$("#as-play-btn").remove();$(".as-game-area").show();$(".as-game-area").css("visibility","visible");if($(".game-box")[0]){$(".game-box").append('<div style="position:relative; z-index:2;">'+B[0]+"</div>")}else{$(".game-wrapper").append('<div style="position:relative; z-index:2;">'+B[0]+"</div>")}h();w()}}function g(){if($(".as-wrapper-like").data("game-id")){$.ajax({type:"POST",url:"/parts/game.php",data:{game_id:s},dataType:"json",cache:false,success:function(B){var C=B;v(C)},complete:function(){},})}}function i(){$(function(){$('[data-toggle="tooltip"]').tooltip()})}var z;var y;var t;function h(){z=".game-box";if($(z).hasClass("game-dl")){return}y=$(z).find("iframe, embed, object").attr("width");if(y=="100%"){y=1200;$(z).addClass("game-responsive")}t=$(z).find("iframe, embed, object").attr("height");$(z).css("width",y+"px");$(z).css("height",t+"px");$(z).css("flex","0 0 "+y+"px");if($(z).hasClass("game-responsive")){$(z).css("width","");$(z).css("height","");$(z).css("max-width",y+"px");$(z).find("iframe, embed, object").removeAttr("height").removeAttr("width");$(z).find("iframe, embed, object").css("width","100%");$(z).find("iframe, embed, object").css("height","100%");k();$(window).resize(function(){if(document.getElementById("game_fullscreen")===null){k()}})}}function k(){var B=$(window).width()-40;var C=$(window).height();if(B<(y)){var D=(B)/y}else{var D=1}var G=Math.ceil((t*D));$(z).css("height",G);if(G>C){$(z).css("height",Math.ceil(C)+"px")}var F=$(z).height()/(t);var E=F*(y);$(z).css("max-width",Math.ceil(E)+"px");$(z).find("iframe, embed, object").css("width",$(z).width()+"px");$(z).find("iframe, embed, object").css("height",$(z).height()+"px")}function w(){if($("#as-fs-button").length){$("#as-game-fullscreen").click(function(){c=true;openFullscreen()})}}function f(){window.scrollTo(0,1);$(z).attr("id","game_fullscreen");$(z).css({position:"absolute",top:"0",left:"0","max-width":$(window).width()+"px",height:((window.innerHeight)-28)+"px",background:"#000","z-index":"8"});$(z).find("iframe, embed, object").css("width",$(window).width()+"px");$(z).find("iframe, embed, object").css("height",((window.innerHeight)-28)+"px");$(z).css("width",window.innerWidth)}function q(){$("#as-report-game").submit(function(B){$("#as-report-submit").removeClass("btn-info as-button").addClass("btn-success");$("#as-report-submit").text("Submitted!");$("#as-report-submit").attr("disabled","disabled");B.preventDefault()})}function u(B){$(B).tooltip({trigger:"manual"});$(B).tooltip("show");setTimeout(function(){$(B).tooltip("hide")},3000)}function o(C,D,B){$(C).click(function(){if(e==false){$(this).removeClass("btn-secondary").addClass(B);$(this).addClass("as-is-voted");$.ajax({traditional:true,type:"POST",url:"/parts/like.php",data:{game_id:s,game_rating:D},dataType:"json",cache:false,success:function(E){},complete:function(){},error:function(E){}});b=D+a;$(this).tooltip({title:b,delay:{show:0,hide:2000},html:true,});$(".as-is-voted").tooltip("show");e=true}else{b="already voted"+a;$(".as-is-voted").attr("data-original-title",b);$(".as-is-voted").tooltip("show")}})}function n(C,D,E,B){$(C).click(function(){if(document.getElementById(D)==null){var G="";if(D=="as-modal-report"){G="<p>Most games require the latest version of Flash, Shockwave or Unity Player to play the game. If the game does not load, try to refresh the page to reload the game. If the game still doesn't work, then send us a report:</p>";G+='<form id="as-report-game">';G+='<div class="form-group">';G+='<label for="as-report-issue">Game Issue</label>';G+='<select class="form-control" id="as-report-issue" required>';G+="<option>Game Broken</option>";G+="<option>Not Loading</option>";G+="<option>Other Issue</option>";G+="</select>";G+="</div>";G+='<div class="form-group">';G+='<label for="as-report-email">Email address</label>';G+='<input type="email" class="form-control" id="as-report-email" placeholder="name@example.com" required>';G+="</div>";G+='<div class="form-group">';G+='<label for="as-report-text">Report Details</label>';G+='<textarea class="form-control" id="as-report-text" rows="3"></textarea>';G+="</div>";G+='<button type="submit" id="as-report-submit" class="btn btn-info as-button float-right">Submit</button>';G+="</form>"}if(D=="as-modal-save-load"){G="<p>Make sure the emulator screen is active by clicking into it.</p>";G+='<h5 id="save-state">Save state</h5>';G+="<ol>";G+='<li>To save your game progress, move your mouse to the bottom of the game screen, some icons will appear, click on the save icon: <br><b>(arrow pointing down)</b><br><img src="https://static.arcadespot.com/play/instructions/save-game.png" alt="Save game button"></li>';G+="<li>Download the file with your desired title and keep the file anywhere on your computer. Make sure that the file name has the extention specified in the dialog that opens.</li>";G+="</ol>";G+='<h5 id="load-state">Load state</h5>';G+="<ol>";G+='<li>You can load a game clicking the load icon<br><b>(arrow pointing up)</b><br><img src="https://static.arcadespot.com/play/instructions/load-game.png" alt="Load game button"></li>';G+="<li>Find the save file that you saved previously. Open this file and your game will load, allowing you to continue playing the game without loosing any progress.</li>";G+="</ol>"}if(D=="as-modal-embed"){G="<p>Embed this game on your web page:</p>";G+='<textarea id="embed-textarea" rows="5" class="form-control" onclick="this.focus();this.select()" readonly="readonly">&lt;iframe height=&quot;416&quot; width=&quot;624&quot; src=&quot;https://static.arcadespot.com/embed/pokemon-leaf-green/&quot; border=&quot;0&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;</textarea>'}var F="";F+='<div class="modal fade" id="'+D+'" tabindex="-1" role="dialog" aria-labelledby="'+B+'" aria-hidden="true">';F+='<div class="modal-dialog modal-dialog-scrollable" role="document">';F+='<div class="modal-content">';F+='<div class="modal-header">';F+='<h5 class="modal-title" id="'+B+'">'+E+"</h5>";F+='<button type="button" class="close" data-dismiss="modal" aria-label="Close">';F+='<span aria-hidden="true">&times;</span>';F+="</button>";F+="</div>";F+='<div class="modal-body">';F+=G;F+="</div>";F+="</div>";F+="</div>";F+="</div>";$(document.body).append(F)}$("#"+D).modal();if(D=="as-modal-report"){q()}})}function m(){$('a[href^="#as-scroll-"]').on("click",function(D){D.preventDefault();var C=this.hash;var B=$(C);$("html, body").stop().animate({scrollTop:B.offset().top},900,"swing",function(){window.location.hash=C})})}function j(){$(".as-game-menu-emulator").click(function(){var E=$(this).data("emulator-iframe");var D=$(this).data("emulator-width");var B=$(this).data("emulator-height");var C=document.getElementById("game-box-iframe");C.contentWindow.location.replace(E);C.style.width=D+"px";C.style.height=B+"px";C.setAttribute("width",D);C.setAttribute("height",B)})}function r(){if($(".as-editor")[0]){tinymce.init({selector:".as-editor",oninit:"setPlainText",force_p_newlines:true,menubar:false,plugins:"paste lists link image help code fullscreen wordcount",paste_as_text:true,toolbar:"bold italic underline removeformat | bullist numlist blockquote | link unlink image | undo redo | code fullscreen wordcount",branding:false,browser_spellcheck:true,relative_urls:false,remove_script_host:false,convert_urls:true,link_title:false,rel_list:[{title:"follow",value:""},{title:"nofollow",value:"nofollow"}],allow_unsafe_link_target:true,target_list:[{title:"same page",value:""},{title:"new tab",value:"_blank"}],init_instance_callback:function(B){var C=B.contentDocument.body.innerText.length;if(C==1){C=0}$("#as-info-num").text(C);B.on("keyup",function(D){C=B.contentDocument.body.innerText.length;$("#as-info-num").text(C)})}})}}function l(){if($(".as-editor-post")[0]){tinymce.init({selector:".as-editor-post",oninit:"setPlainText",force_p_newlines:true,menubar:false,plugins:"paste lists link image help code fullscreen wordcount",paste_as_text:true,toolbar:"bold italic underline removeformat | formatselect bullist numlist blockquote | link unlink image | undo redo | code fullscreen wordcount",branding:false,browser_spellcheck:true,relative_urls:false,remove_script_host:false,convert_urls:true,link_title:false,rel_list:[{title:"follow",value:""},{title:"nofollow",value:"nofollow"}],allow_unsafe_link_target:true,target_list:[{title:"same page",value:""},{title:"new tab",value:"_blank"}],})}}function p(){var B=false;$(".as-show-comments").click(function(E){E.preventDefault();var C="arcadespot";if(!B){B=true;var F=document,D=F.createElement("script");D.src="//"+C+".disqus.com/embed.js";D.setAttribute("data-timestamp",+new Date());(F.head||F.body).appendChild(D)}})}$("#as-play-btn").click(function(){$(".as-cta").html('<div class="spinner-border spinner-border-sm" style="width: 25px; height: 25px;" role="status"></div>');g()});if($("#game-on-mobile").length){$("#game-on-mobile").find("iframe, embed, object").removeAttr("height").removeAttr("width");$("#game-on-mobile").find("iframe, embed, object").css("width","calc(100vw - 40px)");$("#game-on-mobile").find("iframe, embed, object").css("height","100vh")}if($(".as_play_mobile")[0]){setTimeout(function(){$(".as_play_mobile").attr("onclick","openFullscreenMobile();");$(".as_play_mobile").attr("id","as_open_game");$(".as_play_mobile").html('<svg width="8" height="20" viewBox="0 0 192 512" style="margin-top:-5px;"><path d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z" style="fill:black;"/></svg> Play Game');$(".as_play_mobile").removeAttr("style");$(".as_play_mobile").removeClass("shadow-sm").addClass("shadow")},2000)}i();o(".as-btn-like","liked","btn-info");o(".as-btn-unlike","unliked","btn-danger");m();j();r();l();p();n(".as-game-menu-report","as-modal-report","Report Game","as-modal-report-label");n(".as-game-menu-embed","as-modal-embed","Embed Game","as-modal-embed-label");n(".as-info-box-save-load","as-modal-save-load","How to Save/Load Game","as-modal-save-load-label")});